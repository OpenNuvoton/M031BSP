project:
  linker:
    - script: ../../../Library/Device/Nuvoton/M031/Source/GCC/gcc_arm_freertos.ld
  setups:
    - setup: Options for project  
      processor:
        trustzone: non-secure
      add-path:
        - ../../../Library/CMSIS/Include
        - ../../../Library/Device/Nuvoton/M031/Include
        - ../../../Library/StdDriver/inc
        - ../../../ThirdParty/FreeRTOS/Source/include
        - ../../../ThirdParty/FreeRTOS/Demo/Common/include
        - ../../../ThirdParty/FreeRTOS/Source/portable/GCC/ARM_CM0
        - ../../FreeRTOS         
      define:
        - RVDS_ARMCM4_NUC4xx          
    - output:
        type: "bin"
      misc:
        - C-CPP:
          - -mthumb
          - -masm-syntax-unified
          - -fmessage-length=0
          - -fsigned-char
          - -ffunction-sections
          - -fdata-sections
          - -g
        - C:
          - -std=gnu11
        - ASM:
          - -mthumb
          - -fmessage-length=0
          - -fsigned-char
          - -ffunction-sections
          - -fdata-sections
          - -g
          - -x assembler-with-cpp
        - Link:
          - -mthumb
          - -fmessage-length=0
          - -fsigned-char
          - -g
          - --specs=nano.specs
          - -Wl,--gc-sections,-Map=$elf()$.map           
  groups:
    - group: CMSIS
      files:
        - file: ../../../Library/Device/Nuvoton/M031/Source/system_M031Series.c
        - file: ../../../Library/Device/Nuvoton/M031/Source/GCC/startup_M031Series.S
        - file: ../../../Library/Device/Nuvoton/M031/Source/GCC/_syscalls.c
        - file: ../../../Library/Device/Nuvoton/M031/Source/GCC/semihosting.h
    - group: FreeRTOS Files
      files:
        - file: ../../../ThirdParty/FreeRTOS/Source/portable/GCC/ARM_CM0/port.c
        - file: ../../../ThirdParty/FreeRTOS/Source/list.c
        - file: ../../../ThirdParty/FreeRTOS/Source/queue.c
        - file: ../../../ThirdParty/FreeRTOS/Source/tasks.c 
        - file: ../../../ThirdParty/FreeRTOS/Source/timers.c  
        - file: ../../../ThirdParty/FreeRTOS/Source/portable/MemMang/heap_2.c                  
    - group: Library
      files:
        - file: ../../../Library/StdDriver/src/retarget.c
        - file: ../../../Library/StdDriver/src/uart.c
        - file: ../../../Library/StdDriver/src/clk.c
        - file: ../../../Library/StdDriver/src/sys.c        
    - group: Demo Files
      files:
        - file: ../main.c
        - file: ../../../ThirdParty/FreeRTOS/Demo/Common/Minimal/QueueSet.c
        - file: ../../../ThirdParty/FreeRTOS/Demo/Common/Minimal/PollQ.c
        - file: ../../../ThirdParty/FreeRTOS/Demo/Common/Minimal/flash.c          
        - file: ../ParTest.c